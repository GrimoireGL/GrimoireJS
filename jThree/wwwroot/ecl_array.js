/** @license azoth.js 2013 - imaya [ https://github.com/imaya/azoth.js ] The MIT License */
(function() {'use strict';var j=this;function k(b,h){var e=b.split("."),a=j;!(e[0]in a)&&a.execScript&&a.execScript("var "+e[0]);for(var g;e.length&&(g=e.shift());)!e.length&&void 0!==h?a[g]=h:a=a[g]?a[g]:a[g]={}};var l=void 0!==window.Uint8Array;function m(b){if("string"===typeof b)this.source=n(b);else if(b instanceof Array)this.source=b;else if(l&&b instanceof Uint8Array)this.source=Array.prototype.slice.call(b);else throw Error("invalid arguments");}var p="Shift_JIS",q="EUC-JP",r="UTF-8";
m.prototype.b=function(b,h){function e(){if(0===f)return!0;switch(b){case p:return!(129<=a[f-1]&&159>=a[f-1]||224<=a[f-1]&&239>=a[f-1]);case q:return!(128<=a[f-1]);case r:return!0;default:throw Error("Unknown CharacterSet");}}var a=this.source,g=document.createElement("script"),i=s++,u,v=n,c=Array(a.length),f,w,d;f=d=0;for(w=a.length;f<w;f++)92===a[f]?e()?(c[d++]=92,c[d++]=92):c[d++]=a[f]:39===a[f]?(c[d++]=92,c[d++]=120,c[d++]=50,c[d++]=55):10===a[f]?(c[d++]=92,c[d++]=120,c[d++]=48,c[d++]=97):13===
a[f]?(c[d++]=92,c[d++]=120,c[d++]=48,c[d++]=100):c[d++]=a[f];a=c;u=["data:text/javascript;base64;charset=",b,",",window.btoa(String.fromCharCode.apply(null,[].concat(v("Azoth.callback_("+i+",'"),a,v("');"))))].join("");g.src=u;g.setAttribute("charset",b);document.head.appendChild(g);t.push({id:i,element:g,a:h})};var t=[],s=0;function n(b){var h,e,a=Array(b.length);h=0;for(e=b.length;h<e;++h)a[h]=b.charCodeAt(h)&255;return a};k("Azoth",m);k("Azoth.callback_",function(b,h){var e,a,g=t,i;e=0;for(a=g.length;e<a;++e)if(g[e].id===b){i=g.splice(e,1)[0];break}if(void 0===i)throw Error("unknown id");"function"===typeof i.a&&i.a(h);document.head.removeChild(i.element)});k("Azoth.prototype.decode",m.prototype.b);var x={SJIS:p,EUCJP:q,UTF8:r},y,z,A,B;if(Object.keys)y=Object.keys(x);else for(z in y=[],A=0,x)y[A++]=z;A=0;for(B=y.length;A<B;++A)z=y[A],k("Azoth.CharacterSet."+z,x[z]);}).call(this);